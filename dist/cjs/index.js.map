{
  "version": 3,
  "sources": ["../../src/index.ts", "../../src/Loader.ts"],
  "sourcesContent": ["export * from \"./Loader\";\n", "type Params = {\n  container: HTMLElement;\n  baseUrl: string;\n  boardId: string;\n  userToken: string;\n  width?: string;\n  height?: string;\n};\n\ninterface WhiteboardModule {\n  render(params: Params): Promise<void>;\n  dispose(): Promise<void>;\n  setAuthToken(accessToken: string): void;\n}\n\nexport class WhiteboardModuleView implements WhiteboardModule {\n  private iframe: HTMLIFrameElement | undefined;\n\n  render(params: Params): Promise<void> {\n    return new Promise((resolve) => {\n      const { container, baseUrl, boardId } = params;\n      this.iframe = document.createElement(\"iframe\");\n      this.iframe.src = `${baseUrl}/boards/${boardId}`;\n      this.iframe.id = \"iframe\";\n      this.iframe.width = params.width || \"100%\";\n      this.iframe.height = params.height || \"100%\";\n      this.iframe.sandbox.add(\"allow-same-origin\", \"allow-scripts\");\n      container.appendChild(this.iframe);\n    });\n  }\n\n  setAuthToken(accessToken: string): void {\n    const message = {\n      pattern: \"setAuthToken\",\n      payload: {\n        accessToken,\n      },\n    };\n    this.iframe?.contentWindow?.postMessage(message, \"*\");\n  }\n\n  async dispose(): Promise<void> {\n    if (this.iframe) {\n      const container = this.iframe.parentNode;\n      if (container) {\n        container.removeChild(this.iframe);\n      }\n    }\n  }\n}\n"],
  "mappings": "snBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,0BAAAE,IAAA,eAAAC,EAAAH,GCeO,IAAMI,EAAN,KAAuD,CAG5D,OAAOC,EAA+B,CACpC,OAAO,IAAI,QAASC,GAAY,CAC9B,GAAM,CAAE,UAAAC,EAAW,QAAAC,EAAS,QAAAC,CAAQ,EAAIJ,EACxC,KAAK,OAAS,SAAS,cAAc,QAAQ,EAC7C,KAAK,OAAO,IAAM,GAAGG,CAAO,WAAWC,CAAO,GAC9C,KAAK,OAAO,GAAK,SACjB,KAAK,OAAO,MAAQJ,EAAO,OAAS,OACpC,KAAK,OAAO,OAASA,EAAO,QAAU,OACtC,KAAK,OAAO,QAAQ,IAAI,oBAAqB,eAAe,EAC5DE,EAAU,YAAY,KAAK,MAAM,CACnC,CAAC,CACH,CAEA,aAAaG,EAA2B,CA/B1C,IAAAC,EAAAC,EAgCI,IAAMC,EAAU,CACd,QAAS,eACT,QAAS,CACP,YAAAH,CACF,CACF,GACAE,GAAAD,EAAA,KAAK,SAAL,YAAAA,EAAa,gBAAb,MAAAC,EAA4B,YAAYC,EAAS,IACnD,CAEM,SAAyB,QAAAC,EAAA,sBAC7B,GAAI,KAAK,OAAQ,CACf,IAAMP,EAAY,KAAK,OAAO,WAC1BA,GACFA,EAAU,YAAY,KAAK,MAAM,CAErC,CACF,GACF",
  "names": ["src_exports", "__export", "WhiteboardModuleView", "__toCommonJS", "WhiteboardModuleView", "params", "resolve", "container", "baseUrl", "boardId", "accessToken", "_a", "_b", "message", "__async"]
}
